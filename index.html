<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Tithes Series</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="quiz.css" />

        <style>
            /* Professional Engaging Spinner */
            .tab-spinner {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 150px;
                width: 100%;
                position: relative;
            }

            /* Hide the original Font Awesome icon */
            .tab-spinner i {
                display: none;
            }

            /* Main spinner ring */
            .tab-spinner::before {
                content: "";
                position: absolute;
                width: 60px;
                height: 60px;
                border-radius: 50%;
                border: 3px solid rgba(74, 109, 167, 0.1);
                border-top: 3px solid #4a6da7;
                border-right: 3px solid #4a6da7;
                box-shadow: 0 0 15px rgba(74, 109, 167, 0.1);
                animation: spinClockwise 1.2s
                    cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
            }

            /* Inner spinner ring */
            .tab-spinner::after {
                content: "";
                position: absolute;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                border: 3px solid rgba(74, 109, 167, 0.05);
                border-bottom: 3px solid #4a6da7;
                border-left: 3px solid #4a6da7;
                animation: spinCounterClockwise 1.8s
                    cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
            }

            /* Create the pulse effect */
            @keyframes spinClockwise {
                0% {
                    transform: rotate(0deg) scale(1);
                }
                50% {
                    transform: rotate(180deg) scale(1.1);
                    border-top-color: #5b7fbf;
                    border-right-color: #5b7fbf;
                    box-shadow: 0 0 20px rgba(74, 109, 167, 0.4);
                }
                100% {
                    transform: rotate(360deg) scale(1);
                }
            }

            @keyframes spinCounterClockwise {
                0% {
                    transform: rotate(0deg) scale(1);
                }
                50% {
                    transform: rotate(-180deg) scale(1.15);
                    border-bottom-color: #5b7fbf;
                    border-left-color: #5b7fbf;
                }
                100% {
                    transform: rotate(-360deg) scale(1);
                }
            }

            /* Add a subtle pulsating dot in the center */
            .tab-spinner .center-dot {
                position: absolute;
                width: 12px;
                height: 12px;
                background-color: #4a6da7;
                border-radius: 50%;
                animation: pulseDot 1.5s ease-in-out infinite;
            }

            @keyframes pulseDot {
                0%,
                100% {
                    transform: scale(0.7);
                    opacity: 0.5;
                }
                50% {
                    transform: scale(1);
                    opacity: 0.8;
                    box-shadow: 0 0 10px rgba(74, 109, 167, 0.6);
                }
            }

            /* Keep your existing fade transition */
            .tab-content {
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            }

            .tab-content.active {
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <!-- Loading Screen -->
        <div class="loader-container">
            <div class="loader-logo">
                <img src="./logo.png" alt="Sunday School Logo" />
                <div class="pulse"></div>
            </div>
            <div class="ministry-name">Life Gate Ministries Worldwide</div>
            <div class="loader-text">Loading Sunday School Lesson</div>
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
        </div>

        <div class="inner-logo-container">
            <img src="./logo.png" alt="Sunday School Logo" class="logo" />
        </div>

        <button
            class="theme-toggle"
            onclick="toggleTheme()"
            aria-label="Toggle theme"
            style="z-index: 99999"
        >
            <i class="fas fa-moon"></i>
        </button>

        <div class="container">
            <h1>Sunday School Lesson</h1>
            <h2>Date: <span>June 1, 2025</span></h2>
            <h2>Tithes Part 2</h2>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress" id="lessonProgress"></div>
                </div>
            </div>

            <!-- Tab Navigation -->

            <div class="tabs">
                <button class="tab-btn active" onclick="openTab('intro')">
                    Introduction
                </button>
                <button class="tab-btn" onclick="openTab('lesson')">
                    Lesson
                </button>

                <button class="tab-btn" onclick="openTab('conclusion')">
                    Conclusion
                </button>
                <button class="tab-btn" onclick="openTab('application')">
                    Application
                </button>

                <button class="tab-btn" onclick="openTab('quiz')">Quiz</button>
                <button class="tab-btn" onclick="openTab('prayer')">
                    Prayer Points
                </button>
            </div>

            <div id="tab-spinner" class="tab-spinner" style="display: none">
                <i class="fas fa-spinner fa-spin"></i>
            </div>

            <!-- Tab Contents -->
            <div id="intro" class="tab-content active">
                <div class="memory-verse">
                    <h2>üß†üìù Memory Verse</h2>
                    <blockquote>
                        "And let us not be weary in well doing: for in due
                        season we shall reap, if we faint not." - Galatians. 6:9
                        üå±‚û°Ô∏èüåæ‚úùÔ∏è‚ö†Ô∏è
                        <br />
                        <button
                            onclick="showBibleVersions('Galatians 6:9')"
                            class="verse-btn"
                        >
                            Read in Different Versions
                        </button>
                    </blockquote>
                </div>
                <h2>Text: Numbers 18:21-24</h2>
                <blockquote>
                    <button
                        onclick="showBibleVersions('Numbers 18:21-24')"
                        class="verse-btn"
                    >
                        Read in Different Versions
                    </button>
                </blockquote>

                <h2>Introduction üß†‚ú®üìñ</h2>
                <p>
                    Our previous lesson on this subject has, to some extent,
                    revealed the purpose of tithing. Tithe is God's portion out
                    of all substances provided for mankind. The Lord separates
                    this Holy fund to take care of His business here on earth.
                    ü§î‚ö°Ô∏è
                </p>

                <div class="aims-objectives">
                    <h3>Aims and Objectives üéØüìñüí°</h3>
                    <p>
                        <strong>Aim:</strong> To bring the child of God to know
                        the mind and purpose of God for the earth. üß†‚úùÔ∏è‚öîÔ∏è
                    </p>
                    <p>
                        <strong>Objective:</strong> To help God's people in
                        tithing. üôèüí∞üå±
                    </p>
                </div>
            </div>

            <div id="lesson" class="tab-content">
                <h2>Text Review/Lesson üìö‚ú®</h2>
                <div class="main-text">
                    <h3>Text: Numbers 18:21-24 üïäÔ∏è</h3>
                    <button
                        onclick="showBibleVersions('Numbers 18:21-24')"
                        class="verse-btn"
                    >
                        üìñ Read Numbers 18:21-24
                    </button>
                </div>

                <div class="lesson-section">
                    <h3>Lesson üß†üí°</h3>
                    <p>
                        Our text has revealed that people are separated by God
                        for Himself to do His work only. These separated ones
                        are not allowed by God to involve in any secular work
                        neither have inheritance amongst their brethren. God is
                        their portion and so is everything that belongs to God.
                        Lets see through the scriptures what God purposed tithes
                        for:üôèüí∞
                    </p>

                    <button
                        onclick="showBibleVersions('Numbers 18:21-24')"
                        class="verse-btn"
                    >
                        ‚úùÔ∏è Read Numbers 18:21-24
                    </button>

                    <ol class="scripture-list">
                        <li>
                            <p>To supply God's house - Malachi 3:10</p>
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Malachi 3:10')"
                                    class="verse-btn"
                                >
                                    üìñ Malachi 3:10
                                </button>
                            </div>
                        </li>
                        <li>
                            <p>For the care of the Levites - Numbers 8:21.</p>

                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Numbers 8:21')"
                                    class="verse-btn"
                                >
                                    üìñ Numbers 8:21
                                </button>
                            </div>
                        </li>
                        <li>
                            <p>
                                To take care of the Priests - Numbers 18:26,
                                Neh. 10:37, Neh. 12:44.
                            </p>

                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Numbers 18:26')"
                                    class="verse-btn"
                                >
                                    üìñ Numbers 18:26
                                </button>
                                <button
                                    onclick="showBibleVersions('Nehemiah 10:37')"
                                    class="verse-btn"
                                >
                                    üìñ Nehemiah 10:37
                                </button>
                                <button
                                    onclick="showBibleVersions('Nehemiah 12:44')"
                                    class="verse-btn"
                                >
                                    üìñ Nehemiah 12:44
                                </button>
                            </div>
                        </li>
                        <li>
                            <p>
                                To take care of other Ministers and Needy -
                                Deuteronomy 14:27-29, Deuteronomy 26:12-13.
                            </p>

                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Deuteronomy 14:27-29')"
                                    class="verse-btn"
                                >
                                    üìñ Deuteronomy 14:27-29
                                </button>
                                <button
                                    onclick="showBibleVersions('Deuteronomy 26:12-13')"
                                    class="verse-btn"
                                >
                                    üìñ Deuteronomy 26:12-13
                                </button>
                            </div>
                        </li>
                        <li>
                            <p>To Honour God - Proverbs 3:9-10.</p>

                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Proverbs 3:9-10')"
                                    class="verse-btn"
                                >
                                    üìñ Proverbs 3:9-10
                                </button>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>
            <div id="application" class="tab-content">
                <h2>üôè Personal Application ‚Äì Tithes Part 3</h2>
                <div class="reflection-section">
                    <div class="interactive-cards">
                        <!-- Obedience Check -->
                        <div class="reflection-card">
                            <h3>üìä Tithing Purpose Check</h3>
                            <div class="love-meter">
                                <p>
                                    How well do you understand the purpose of
                                    tithing?
                                </p>
                                <div class="rating-container">
                                    <input
                                        type="range"
                                        min="1"
                                        max="10"
                                        value="5"
                                        class="love-slider"
                                        id="titheRating"
                                    />
                                    <span class="rating-value">5/10</span>
                                </div>
                                <div class="rating-feedback"></div>
                            </div>
                        </div>

                        <!-- Action Plan -->
                        <div class="reflection-card">
                            <h3>
                                üìù Understanding Tithe's Purpose Action Plan
                            </h3>
                            <div class="action-items">
                                <div class="action-item">
                                    <input type="checkbox" id="action1" />
                                    <label for="action1">
                                        üìñ Study biblical purposes of tithing
                                    </label>
                                </div>
                                <div class="action-item">
                                    <input type="checkbox" id="action2" />
                                    <label for="action2">
                                        üèõÔ∏è Learn how tithes support God's work
                                    </label>
                                </div>
                                <div class="action-item">
                                    <input type="checkbox" id="action3" />
                                    <label for="action3">
                                        ü§ù Share with others the importance of
                                        tithes
                                    </label>
                                </div>
                                <button class="add-action-btn">
                                    ‚ûï Add Custom Action
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Reflection Journal -->
                    <div class="reflection-journal">
                        <h3>üìî Reflection Journal</h3>
                        <div class="journal-prompts">
                            <div class="prompt active">
                                <p>
                                    üí≠ How has understanding the purpose of
                                    tithing changed your perspective?
                                </p>
                                <textarea
                                    class="reflection-input"
                                    placeholder="Write your thoughts here..."
                                ></textarea>
                            </div>
                            <div class="prompt-nav">
                                <button class="prev-prompt" disabled>
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <span class="prompt-counter">1/3</span>
                                <button class="next-prompt">
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Commitment Section -->
                    <div class="commitment-section">
                        <h3>ü§≤ Understanding Commitment</h3>
                        <div class="commitment-form"></div>
                            <p>
                                I commit to understanding and supporting God's
                                purpose for tithes by:
                            </p>
                            <input
                                type="text"
                                class="commitment-input"
                                placeholder="e.g., Studying the biblical purpose of tithing..."
                            />
                            <button class="save-commitment">
                                üìå Make Commitment
                            </button>
                        </div>
                        <div class="saved-commitments">
                            <h4>üìÖ Previous Commitments</h4>
                            <ul class="commitment-list"></ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="conclusion" class="tab-content">
                <h2>Conclusion üìú</h2>
                <p>
                    Having known the purpose of tithing, let us faithfully bring
                    our tithes into the store house for the management of Gods
                    business.‚õ™
                </p>
            </div>

            <link rel="stylesheet" href="theme.css" />
            <div id="quiz" class="tab-content">
                <h2>üìö Knowledge Check</h2>
                <div class="quiz-container">
                    <div id="quiz-questions">
                        <div class="question">
                            <p>
                                1. What is God's portion out of all substances
                                provided for mankind?
                            </p>
                            <div class="options">
                                <label
                                    ><input
                                        type="radio"
                                        name="q1"
                                        value="a"
                                    />Tithe</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q1"
                                        value="b"
                                    />Offering</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q1"
                                        value="c"
                                    />Sacrifice</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                2. What are the Levites not allowed to do
                                according to Numbers 18:21-24?
                            </p>
                            <div class="options">
                                <label
                                    ><input
                                        type="radio"
                                        name="q2"
                                        value="a"
                                    />Serve in the tabernacle</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q2"
                                        value="b"
                                    />Have inheritance among their
                                    brethren</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q2"
                                        value="c"
                                    />Receive tithes</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                3. According to the lesson, what is the main
                                purpose of tithes?
                            </p>
                            <div class="options">
                                <label
                                    ><input
                                        type="radio"
                                        name="q3"
                                        value="a"
                                    />For personal use</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q3"
                                        value="b"
                                    />For church decoration</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q3"
                                        value="c"
                                    />For God's business on earth</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                4. What does God promise to those who bring
                                their tithes to His storehouse?
                            </p>
                            <div class="options">
                                <label
                                    ><input
                                        type="radio"
                                        name="q4"
                                        value="a"
                                    />Earthly riches</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q4"
                                        value="b"
                                    />Fame and power</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q4"
                                        value="c"
                                    />Open windows of heaven and
                                    blessings</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                5. According to the lesson, who are primarily
                                supported by tithes?
                            </p>
                            <div class="options">
                                <label
                                    ><input
                                        type="radio"
                                        name="q5"
                                        value="a"
                                    />The Levites and priests</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q5"
                                        value="b"
                                    />The poor only</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q5"
                                        value="c"
                                    />Church buildings</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                6. What is the main reason God separated the
                                tithe as holy?
                            </p>
                            <div class="options">
                                <label
                                    ><input
                                        type="radio"
                                        name="q6"
                                        value="a"
                                    />To sustain His work and servants</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q6"
                                        value="b"
                                    />To test people's faith</label
                                >
                                <label
                                    ><input
                                        type="radio"
                                        name="q6"
                                        value="c"
                                    />To build wealth</label
                                >
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="checkQuiz()" class="quiz-submit">
                    üìù Submit Answers
                </button>
                <div id="quiz-results">
                    <!-- Results will be displayed here -->
                </div>
            </div>

            <link rel="stylesheet" href="prayer.css" />

            <div id="prayer" class="tab-content">
                <h2>Prayer Points</h2>

                <div class="prayer-section">
                    <div class="prayer-points">
                        <div class="prayer-item">
                            <div class="prayer-text">
                                Lord, help me to bring all the tithes to your storehouse for your work not to lack and help in sustaining Gods business.
                            </div>
                            <div class="scripture-ref">
                                Malachi 3:10
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                Father, give me the grace to be a faithful tither, supporting the work of ministry and the needs of your servants.
                            </div>
                            <div class="scripture-ref">
                                Numbers 18:21, 26
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                Holy Spirit, help me understand and fulfill the purpose of tithing as ordained by You for the advancement of Your kingdom.
                            </div>
                            <div class="scripture-ref">
                                Deuteronomy 14:27-29
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                clean heart that delights in honoring God.
                            </div>
                            <div class="scripture-ref">
                                Psalm 51:10; 2 Corinthians 9:7
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                Father, give me a heart that rejoices in
                                honoring You with my tithes and offerings,
                                viewing them not as burdens but as covenant
                                privileges and acts of worship.
                            </div>
                            <div class="scripture-ref">
                                Proverbs 3:9-10; Hebrews 7:8
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                God Almighty, establish me as a faithful and
                                consistent tither in the order of Melchizedek,
                                in complete obedience to Christ Jesus, my
                                eternal High Priest and Lord.
                            </div>
                            <div class="scripture-ref">
                                Hebrews 7:1-10; Psalm 110:4
                            </div>
                        </div>
                    </div>
                </div>

                <div class="prayer-section">
                    <h2 class="section-title">
                        Prayers for Ministry and Impact
                    </h2>
                    <div class="prayer-points">
                        <div class="prayer-item">
                            <div class="prayer-text">
                                Lord, anoint me to be a vessel of truth,
                                teaching and sharing the biblical principles of
                                tithing with others in love, wisdom, and
                                clarity, never in condemnation but in grace.
                            </div>
                            <div class="scripture-ref">
                                2 Timothy 2:24-25; Ephesians 4:15
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                Father, by Your mighty power, destroy every
                                false doctrine and misconception that causes
                                Your people to doubt, neglect, or misunderstand
                                the principle of biblical stewardship.
                            </div>
                            <div class="scripture-ref">
                                2 Corinthians 10:4-5; Ephesians 6:12
                            </div>
                        </div>
                    </div>
                </div>

                <div class="prayer-section">
                    <h2 class="section-title">
                        Prayers for Blessing and Breakthrough
                    </h2>
                    <div class="prayer-points">
                        <div class="prayer-item">
                            <div class="prayer-text">
                                O Lord, as I faithfully obey Your Word in
                                tithing, let the promises of Malachi 3:10-12 be
                                fulfilled in my life ‚Äî open the windows of
                                heaven, pour out blessings I cannot contain, and
                                rebuke the devourer for my sake.
                            </div>
                            <div class="scripture-ref">Malachi 3:10-12</div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                Help me, Lord, to mature in my walk with You and
                                grow in understanding all kingdom principles,
                                including giving, stewardship, and the generous
                                heart that reflects Your character.
                            </div>
                            <div class="scripture-ref">
                                2 Peter 3:18; Luke 6:38
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                Lord, I covenant to honor You with my tithes,
                                offerings, and firstfruits. Establish me firmly
                                in Your divine financial system for kingdom
                                advancement, personal provision, and
                                generational blessing.
                            </div>
                            <div class="scripture-ref">
                                Deuteronomy 8:18; 3 John 1:2
                            </div>
                        </div>

                        <div class="prayer-item">
                            <div class="prayer-text">
                                Father, let my faithfulness in tithing be a
                                testimony of Your goodness and provision. Use my
                                obedience to inspire others and bring glory to
                                Your name throughout the earth.
                            </div>
                            <div class="scripture-ref">
                                Matthew 5:16; Philippians 4:19
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add this modal for Bible versions -->
            <div id="verse-modal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="verse-reference"></h2>
                    <div class="version-tab">
                        <button
                            class="version-btn active"
                            onclick="showVersion('KJV')"
                        >
                            KJV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NKJV')"
                        >
                            NKJV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NIV')"
                        >
                            NIV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('ESV')"
                        >
                            ESV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('AMP')"
                        >
                            AMP
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NLT')"
                        >
                            NLT
                        </button>
                    </div>
                    <div id="verse-text"></div>
                </div>
            </div>
        </div>

        <!-- Replace your existing font controls with this -->
        <div class="font-controls">
            <button
                onclick="adjustFontSize(-1)"
                aria-label="Decrease font size"
            >
                <i class="fas fa-minus"></i>
            </button>
            <span class="font-size">16px</span>
            <button onclick="adjustFontSize(1)" aria-label="Increase font size">
                <i class="fas fa-plus"></i>
            </button>
            <select
                class="font-family-select"
                onchange="changeFont(this.value)"
            >
                <option value="'Segoe UI', sans-serif">Default</option>
                <option value="Arial, sans-serif">Arial</option>
                <option value="Georgia, serif">Georgia</option>
                <option value="'Times New Roman', serif">
                    Times New Roman
                </option>
                <option value="'Comic Sans MS', cursive">Comic Sans</option>
            </select>
        </div>
        <script
            src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"
        ></script>

        <script>
            $(function () {
                let tab = $("tab");
                tab.click(function () {
                    alert;
                });
            });
        </script>

        <script>
            // Loading Screen
            window.addEventListener("load", function () {
                setTimeout(() => {
                    document.querySelector(".loader-container").style.display =
                        "none";
                }, 2000);
            });

            // // Tab Functionality
            function openTab(tabName) {
                const tabContents =
                    document.getElementsByClassName("tab-content");
                const tabButtons = document.getElementsByClassName("tab-btn");
                const spinner = document.getElementById("tab-spinner");

                for (let content of tabContents) {
                    content.classList.remove("active");
                    content.style.display = "none";
                }

                for (let button of tabButtons) {
                    button.classList.remove("active");
                }

                document.getElementById(tabName).classList.add("active");
                event.currentTarget.classList.add("active");

                spinner.style.display = "flex";

                setTimeout(() => {
                    // Hide spinner
                    spinner.style.display = "none";

                    // Show selected tab content
                    const selectedTab = document.getElementById(tabName);
                    selectedTab.style.display = "block";

                    // Trigger a reflow before adding the active class for animation
                    void selectedTab.offsetWidth;

                    // Add active class to fade in the content
                    selectedTab.classList.add("active");

                    // Update progress if needed
                    updateProgress();
                }, 800); // Adjust loading time as needed (800ms)
            }

            // Theme Toggle

            function toggleTheme() {
                document.body.classList.toggle("dark-mode");
                const icon = document.querySelector(".theme-toggle i");
                icon.classList.toggle("fa-moon");
                icon.classList.toggle("fa-sun");
            }

            // Add these functions to your existing JavaScript

            function showBibleVersions(reference) {
                const modal = document.getElementById("verse-modal");
                const verseRef = document.getElementById("verse-reference");
                verseRef.textContent = reference;
                modal.style.display = "block";
                document.body.classList.add("modal-open");
                showVersion(preferredVersion);
            }

            // function showBibleVersions(reference) {
            //     const modal = document.getElementById("verse-modal");
            //     const verseRef = document.getElementById("verse-reference");
            //     const contentArea = document.getElementById("verse-content");

            //     verseRef.textContent = reference;
            //     modal.style.display = "block";
            //     document.body.classList.add("modal-open");

            //     const data = bibleVerses[reference];
            //     if (!data) {
            //         contentArea.innerHTML =
            //             "<p>Content not found for this reference.</p>";
            //         return;
            //     }

            //     let html = "";

            //     // Check if it's Melchizedek-style multi-point topic
            //     if (reference === "melchizedek_significance") {
            //         for (const topic in data) {
            //             html += `<h4>${topic}</h4><ul>`;
            //             data[topic].forEach((point) => {
            //                 html += `<li>${point}</li>`;
            //             });
            //             html += `</ul>`;
            //         }
            //     } else {
            //         // Otherwise, treat as versioned Bible text
            //         const preferredVersion = "KJV"; // or make this dynamic if needed
            //         if (data[preferredVersion]) {
            //             html = `<p><strong>${preferredVersion}:</strong> ${data[preferredVersion]}</p>`;
            //         } else {
            //             html = `<p>${preferredVersion} version not found.</p>`;
            //         }
            //     }

            //     contentArea.innerHTML = html;
            // }

            const bibleVerses = {
                "Galatians 6:9": {
                    KJV: `9 And let us not be weary in well doing: for in due season we shall reap, if we faint not.`,

                    NKJV: `9 And let us not grow weary while doing good, for in due season we shall reap if we do not lose heart.`,

                    NIV: `9 Let us not become weary in doing good, for at the proper time we will reap a harvest if we do not give up.`,

                    ESV: `9 And let us not grow weary of doing good, for in due season we will reap, if we do not give up.`,

                    AMP: `9 Let us not grow weary or become discouraged in doing good, for at the proper time we will reap, if we do not give in.`,

                    NLT: `9 So let‚Äôs not get tired of doing what is good. At just the right time we will reap a harvest of blessing if we don‚Äôt give up.`,
                },

                "Numbers 18:21-24": {
                    KJV: `21 And, behold, I have given the children of Levi all the tenth in Israel for an inheritance, for their service which they serve, even the service of the tabernacle of the congregation.
22 Neither must the children of Israel henceforth come nigh the tabernacle of the congregation, lest they bear sin, and die.
23 But the Levites shall do the service of the tabernacle of the congregation, and they shall bear their iniquity: it shall be a statute forever throughout your generations, that among the children of Israel they have no inheritance.
24 But the tithes of the children of Israel, which they offer as an heave offering unto the Lord, I have given to the Levites to inherit: therefore I have said unto them, Among the children of Israel they shall have no inheritance.`,

                    NKJV: `21 Behold, I have given the children of Levi all the tithes in Israel as an inheritance in return for the work which they perform, the work of the tabernacle of meeting.
22 Hereafter the children of Israel shall not come near the tabernacle of meeting, lest they bear sin and die.
23 But the Levites shall perform the work of the tabernacle of meeting, and they shall bear their iniquity; it shall be a statute forever throughout your generations, that among the children of Israel they shall have no inheritance.
24 For the tithes of the children of Israel, which they offer up as a heave offering to the Lord, I have given to the Levites as an inheritance; therefore I have said to them, ‚ÄòAmong the children of Israel they shall have no inheritance.‚Äô`,

                    NIV: `21 I give to the Levites all the tithes in Israel as their inheritance in return for the work they do while serving at the tent of meeting.
22 From now on the Israelites must not go near the tent of meeting, or they will bear the consequences of their sin and will die.
23 It is the Levites who are to do the work at the tent of meeting and bear the responsibility for any offenses they commit against it. This is a lasting ordinance for the generations to come. They will receive no inheritance among the Israelites.
24 Instead, I give to the Levites as their inheritance the tithes that the Israelites present as an offering to the Lord. That is why I said concerning them: ‚ÄòThey will have no inheritance among the Israelites.‚Äô`,

                    ESV: `21 To the Levites I have given every tithe in Israel for an inheritance, in return for their service that they do, their service in the tent of meeting,
22 so that the people of Israel do not come near the tent of meeting, lest they bear sin and die.
23 But the Levites shall do the service of the tent of meeting, and they shall bear their iniquity. It shall be a perpetual statute throughout your generations, and among the people of Israel they shall have no inheritance.
24 For the tithe of the people of Israel, which they present as a contribution to the Lord, I have given to the Levites for an inheritance; therefore I have said of them that they shall have no inheritance among the people of Israel.`,

                    AMP: `21 Behold, I have given the Levites all the tithe in Israel as an inheritance in return for their service which they perform, the service of the Tent of Meeting (tabernacle).
22 The Israelites shall never again come near the Tent of Meeting (tabernacle), or they will incur sin and die.
23 Only the Levites shall perform the service of the Tent of Meeting, and they shall bear their iniquity; it shall be a perpetual statute throughout your generations. The Levites shall have no [land] inheritance among the children of Israel,
24 because I have given the tithe of the Israelites which they present as an offering to the Lord to the Levites as an inheritance; therefore I have said to them, ‚ÄòThey shall have no [land] inheritance among the children of Israel.‚Äô`,

                    NLT: `21 As for the tribe of Levi, your relatives, I will compensate them for their service in the Tabernacle instead of an allotment of land. I will give them the tithes from the entire land of Israel.
22 From now on, no Israelites, except the Levites, may approach the Tabernacle. If they come too near, they will be judged guilty and will die.
23 Only the Levites may serve at the Tabernacle, and they will be held responsible for any offenses against it. This is a permanent law for you, and it must be observed from generation to generation. The Levites will receive no allotment of land among the Israelites,
24 because I have given them the Israelites‚Äô tithes, which have been presented as sacred offerings to the Lord. This will be the Levites‚Äô share. That is why I said they would receive no allotment of land among the Israelites.`,
                },
                "Malachi 3:10": {
                    KJV: `10 Bring ye all the tithes into the storehouse, that there may be meat in mine house, and prove me now herewith, saith the Lord of hosts, if I will not open you the windows of heaven, and pour you out a blessing, that there shall not be room enough to receive it.`,

                    NKJV: `10 Bring all the tithes into the storehouse, that there may be food in My house, and try Me now in this,‚Äù says the Lord of hosts, ‚ÄúIf I will not open for you the windows of heaven and pour out for you such blessing that there will not be room enough to receive it.`,

                    NIV: `10 Bring the whole tithe into the storehouse, that there may be food in my house. Test me in this,‚Äù says the Lord Almighty, ‚Äúand see if I will not throw open the floodgates of heaven and pour out so much blessing that there will not be room enough to store it.`,

                    ESV: `10 Bring the full tithe into the storehouse, that there may be food in my house. And thereby put me to the test, says the Lord of hosts, if I will not open the windows of heaven for you and pour down for you a blessing until there is no more need.`,

                    AMP: `10 Bring all the tithes (the tenth) into the storehouse, so that there may be food in My house, and test Me now in this,‚Äù says the Lord of hosts, ‚Äúif I will not open for you the windows of heaven and pour out for you [so great] a blessing until there is no more room to receive it.`,

                    NLT: `10 Bring all the tithes into the storehouse so there will be enough food in my Temple. If you do,‚Äù says the Lord of Heaven‚Äôs Armies, ‚ÄúI will open the windows of heaven for you. I will pour out a blessing so great you won‚Äôt have enough room to take it in! Try it! Put me to the test!`,
                },

                "Numbers 8:21": {
                    KJV: `21 And the Levites were purified, and they washed their clothes; and Aaron offered them as an offering before the Lord; and Aaron made an atonement for them to cleanse them.`,

                    NKJV: `21 And the Levites purified themselves and washed their clothes; then Aaron presented them like a wave offering before the Lord, and Aaron made atonement for them to cleanse them.`,

                    NIV: `21 The Levites purified themselves and washed their clothes. Then Aaron presented them as a wave offering before the Lord and made atonement for them to purify them.`,

                    ESV: `21 And the Levites purified themselves from sin and washed their clothes, and Aaron offered them as a wave offering before the Lord, and Aaron made atonement for them to cleanse them.`,

                    AMP: `21 Then the Levites cleansed themselves and they washed their clothes; and Aaron presented them as a wave offering before the Lord, and Aaron made atonement for them to cleanse them.`,

                    NLT: `21 The Levites went to the Temple and were purified as the Lord had commanded. They washed their clothes, and Aaron lifted them up and presented them to the Lord as a special offering. He then offered a sacrifice to purify them and make them right with the Lord.`,
                },

                "Numbers 18:26": {
                    KJV: `26 Thus speak unto the Levites, and say unto them, When ye take of the children of Israel the tithes which I have given you from them for your inheritance, then ye shall offer up an heave offering of it for the Lord, even a tenth part of the tithe.`,

                    NKJV: `26 Speak thus to the Levites, and say to them: ‚ÄòWhen you take from the children of Israel the tithes which I have given you from them as your inheritance, then you shall offer up a heave offering of it to the Lord, a tenth of the tithe.`,

                    NIV: `26 Speak to the Levites and say to them: ‚ÄòWhen you receive from the Israelites the tithe I give you as your inheritance, you must present a tenth of that tithe as the Lord‚Äôs offering.`,

                    ESV: `26 Moreover, you shall speak and say to the Levites, When you take from the people of Israel the tithe that I have given you from them for your inheritance, then you shall present a contribution from it to the Lord, a tithe of the tithe.`,

                    AMP: `26 Moreover, you shall say to the Levites, When you take from the Israelites the tithe which I have given you from them as your inheritance, then you shall present an offering from it to the Lord, a tithe of the tithe [paid by the people].`,

                    NLT: `26 ‚ÄúGive these instructions to the Levites: When you receive from the people of Israel the tithes I have assigned as your allotment, give a tenth of the tithes you receive‚Äîa tithe of the tithe‚Äîas the Lord‚Äôs offering.`,
                },

                "Nehemiah 10:37": {
                    KJV: `37 And that we should bring the firstfruits of our dough, and our offerings, and the fruit of all manner of trees, of wine and of oil, unto the priests, to the chambers of the house of our God; and the tithes of our ground unto the Levites, that the same Levites might have the tithes in all the cities of our tillage.`,

                    NKJV: `37 to bring the firstfruits of our dough, our offerings, the fruit from all kinds of trees, the new wine and oil, to the priests, to the storerooms of the house of our God; and to bring the tithes of our land to the Levites, for the Levites should receive the tithes in all our farming communities.`,

                    NIV: `37 ‚ÄúMoreover, we will bring to the storerooms of the house of our God, to the priests, the first of our ground meal, of our grain offerings, of the fruit of all our trees and of our new wine and olive oil. And we will bring a tithe of our crops to the Levites, for it is the Levites who collect the tithes in all the towns where we work.`,

                    ESV: `37 and to bring the first of our dough, and our contributions, the fruit of every tree, the wine and the oil, to the priests, to the chambers of the house of our God; and to bring to the Levites the tithes from our ground, for it is the Levites who collect the tithes in all our towns where we labor.`,

                    AMP: `37 We will bring the first and best of our coarse meal, our contributions, the fruit of every tree, the new wine and the oil to the priests, to the chambers of the house of our God; and the tithes of our ground to the Levites, for the Levites are the ones who receive the tithes in all the rural towns.`,

                    NLT: `37 We will store the produce in the storerooms of the Temple of our God. We will bring the best of our flour and other grain offerings, the best of our fruit, and the best of our new wine and olive oil. And we promise to bring to the Levites a tenth of everything our land produces, for it is the Levites who collect the tithes in all our rural towns.`,
                },

                "Nehemiah 12:44": {
                    KJV: `44 And at that time were some appointed over the chambers for the treasures, for the offerings, for the firstfruits, and for the tithes, to gather into them out of the fields of the cities the portions of the law for the priests and Levites: for Judah rejoiced for the priests and for the Levites that waited.`,

                    NKJV: `44 And at the same time some were appointed over the rooms of the storehouse for the offerings, the firstfruits, and the tithes, to gather into them from the fields of the cities the portions specified by the Law for the priests and Levites; for Judah rejoiced over the priests and Levites who ministered.`,

                    NIV: `44 At that time men were appointed to be in charge of the storerooms for the contributions, firstfruits and tithes. From the fields around the towns they were to bring into the storerooms the portions required by the Law for the priests and the Levites, for Judah was pleased with the ministering priests and Levites.`,

                    ESV: `44 On that day men were appointed over the storerooms, the contributions, the firstfruits, and the tithes, to gather into them the portions required by the Law for the priests and for the Levites according to the fields of the towns, for Judah rejoiced over the priests and the Levites who ministered.`,

                    AMP: `44 On that day men were appointed over the chambers (storerooms) for the stores, contributions, first fruits, and tithes, to gather into them from the fields of the cities the portions legally assigned to the priests and Levites; for Judah rejoiced over the priests and the Levites who served.`,

                    NLT: `44 On that day men were appointed to be in charge of the storerooms for the offerings, the first part of the harvest, and the tithes. They were responsible to collect from the fields outside the towns the portions required by the law for the priests and Levites. For all the people of Judah took joy in the priests and Levites and their work.`,
                },

                "Deuteronomy 14:27-29": {
                    KJV: `27 And the Levite that is within thy gates; thou shalt not forsake him; for he hath no part nor inheritance with thee.
29 At the end of three years thou shalt bring forth all the tithe of thine increase the same year, and shalt lay it up within thy gates:
30 And the Levite, (because he hath no part nor inheritance with thee,) and the stranger, and the fatherless, and the widow, which are within thy gates, shall come, and shall eat and be satisfied; that the Lord thy God may bless thee in all the work of thine hand which thou doest.`,

                    NKJV: `27 You shall not forsake the Levite who is within your gates, for he has no part nor inheritance with you.
29 At the end of every third year you shall bring out the tithe of your produce of that year and store it up within your gates.
30 And the Levite (because he has no portion nor inheritance with you), and the stranger and the fatherless and the widow who are within your gates, may come and eat and be satisfied, that the Lord your God may bless you in all the work of your hand which you do.`,

                    NIV: `27 And do not neglect the Levites living in your towns, for they have no allotment or inheritance of their own.
29 At the end of every three years, bring all the tithes of that year‚Äôs produce and store it in your towns,
30 so that the Levites (who have no allotment or inheritance of their own) and the foreigners, the fatherless and the widows who live in your towns may come and eat and be satisfied, and so that the Lord your God may bless you in all the work of your hands.`,

                    ESV: `27 And you shall not forsake the Levite who is within your towns, for he has no portion or inheritance with you.
29 At the end of every three years you shall bring out all the tithe of your produce in the same year and lay it up within your towns.
30 And the Levite, because he has no portion or inheritance with you, and the sojourner, the fatherless, and the widow, who are within your towns, shall come and eat and be filled, that the Lord your God may bless you in all the work of your hands that you do.`,

                    AMP: `27 And do not neglect the Levite who is within your city gates, for he has no portion or inheritance among you.
29 At the end of every third year you shall bring out all the tithe of your produce for that year and deposit it in your city gates.
30 The Levite, because he has no portion or inheritance among you, and the stranger, the orphan, and the widow in your city, shall come and eat and be satisfied, so that the Lord your God may bless you in all the work of your hands.`,

                    NLT: `27 And do not neglect the Levites in your town, for they will receive no allotment of land among you.
29 At the end of every third year, bring the entire tithe of that year‚Äôs harvest and store it in the nearest town.
30 Give it to the Levites, who will receive no allotment of land among you, as well as to the foreigners living among you, the orphans, and the widows in your towns, so they can eat and be satisfied. Then the Lord your God will bless you in all your work.`,
                },

                "Deuteronomy 26:12-13": {
                    KJV: `[12] When thou hast made an end of tithing all the tithes of thine increase the third year, which is the year of tithing, and hast given it unto the Levite, the stranger, the fatherless, and the widow, that they may eat within thy gates, and be filled;
[13] Then thou shalt say before the Lord thy God, I have brought away the hallowed things out of mine house, and also have given them unto the Levite, and unto the stranger, to the fatherless, and to the widow, according to all thy commandments which thou hast commanded me: I have not transgressed thy commandments, neither have I forgotten them:`,

                    NKJV: `[12] When you have finished laying aside all the tithe of your increase in the third year‚Äîthe year of tithing‚Äîand have given it to the Levite, the stranger, the fatherless, and the widow, so that they may eat within your gates and be filled,
[13] then you shall say before the Lord your God: ‚ÄòI have removed the holy tithe from my house, and also have given them to the Levite, the stranger, the fatherless, and the widow, according to all Your commandments which You have commanded me; I have not transgressed Your commandments, nor have I forgotten them.`,

                    NIV: `[12] When you have finished setting aside a tenth of all your produce in the third year, the year of the tithe, you shall give it to the Levite, the foreigner, the fatherless and the widow, so that they may eat in your towns and be satisfied.
[13] Then say to the Lord your God: ‚ÄúI have removed from my house the sacred portion and have given it to the Levite, the foreigner, the fatherless and the widow, according to all you commanded. I have not turned aside from your commands nor have I forgotten any of them.`,

                    ESV: `[12] When you have finished paying all the tithe of your produce in the third year, which is the year of tithing, giving it to the Levite, the sojourner, the fatherless, and the widow, so that they may eat within your towns and be filled,
[13] then you shall say before the Lord your God, ‚ÄòI have removed the sacred portion out of my house, and moreover, I have given it to the Levite, the sojourner, the fatherless, and the widow, according to all your commandment that you have commanded me. I have not transgressed any of your commandments, nor have I forgotten them.`,

                    AMP: `[12] When you have finished paying all the tithe of your produce in the third year (the year of tithing), and have given it to the Levite, the stranger, the orphan, and the widow, so that they may eat within your cities and be satisfied,
[13] then you shall say before the Lord your God, ‚ÄòI have removed the sacred portion from my house and have also given it to the Levite, the stranger, the orphan, and the widow, in accordance with all Your commandments which You have commanded me; I have not transgressed or forgotten any of Your commandments.`,

                    NLT: `[12] Every third year you must offer a special tithe of your crops. You must give these tithes to the Levites, foreigners, orphans, and widows so that they will have enough to eat in your towns.
[13] Then you must declare in the presence of the Lord your God, ‚ÄòI have taken the sacred gift from my house and have given it to the Levites, foreigners, orphans, and widows, just as you commanded me. I have not violated or forgotten any of your commands.‚Äô`,
                },

                "Proverbs 3:9-10": {
                    KJV: `[9] Honour the Lord with thy substance, and with the firstfruits of all thine increase:
[10] So shall thy barns be filled with plenty, and thy presses shall burst out with new wine.`,

                    NKJV: `[9] Honor the Lord with your possessions, and with the firstfruits of all your increase;
[10] So your barns will be filled with plenty, and your vats will overflow with new wine.`,

                    NIV: `[9] Honor the Lord with your wealth, with the firstfruits of all your crops;
[10] then your barns will be filled to overflowing, and your vats will brim over with new wine.`,

                    ESV: `[9] Honor the Lord with your wealth and with the firstfruits of all your produce;
[10] then your barns will be filled with plenty, and your vats will be bursting with wine.`,

                    AMP: `[9] Honor the Lord with your wealth and with the first fruits of all your crops (income);
[10] Then your barns will be abundantly filled and your vats will overflow with new wine.`,

                    NLT: `[9] Honor the Lord with your wealth and with the best part of everything you produce.
[10] Then he will fill your barns with grain, and your vats will overflow with good wine.`,
                },

                "Vats": {
                    KJV: "Storage tanks or basins used for holding wine, especially during the winemaking process. In biblical times, vats were large containers into which juice from crushed grapes flowed during pressing. The term symbolizes abundance and blessing in scriptures like Proverbs 3:10. synonyms: "["winepress basin","container","large vessel","tank"],
                    NKJV: "Storage tanks or basins used for holding wine, especially during the winemaking process. In biblical times, vats were large containers into which juice from crushed grapes flowed during pressing. The term symbolizes abundance and blessing in scriptures like Proverbs 3:10. synonyms: "["winepress basin","container","large vessel","tank"],
                    NIV: "Storage tanks or basins used for holding wine, especially during the winemaking process. In biblical times, vats were large containers into which juice from crushed grapes flowed during pressing. The term symbolizes abundance and blessing in scriptures like Proverbs 3:10. synonyms: "["winepress basin","container","large vessel","tank"],
                    ESV: "Storage tanks or basins used for holding wine, especially during the winemaking process. In biblical times, vats were large containers into which juice from crushed grapes flowed during pressing. The term symbolizes abundance and blessing in scriptures like Proverbs 3:10. synonyms: "["winepress basin","container","large vessel","tank"],
                    AMP: "Storage tanks or basins used for holding wine, especially during the winemaking process. In biblical times, vats were large containers into which juice from crushed grapes flowed during pressing. The term symbolizes abundance and blessing in scriptures like Proverbs 3:10. synonyms: "["winepress basin","container","large vessel","tank"],
                    NLT: "Storage tanks or basins used for holding wine, especially during the winemaking process. In biblical times, vats were large containers into which juice from crushed grapes flowed during pressing. The term symbolizes abundance and blessing in scriptures like Proverbs 3:10. synonyms: "["winepress basin","container","large vessel","tank"],
                },

                "Barns": {
                    KJV: "Structures used for storing grain, food, or agricultural produce, especially during harvest. context: In biblical times, barns symbolized provision and abundance. A full barn reflected God's blessing on a person's labor and obedience. synonyms: "["storehouse", "granary", "storage building", "harvest shelter"],
                    NKJV: "Structures used for storing grain, food, or agricultural produce, especially during harvest. context: In biblical times, barns symbolized provision and abundance. A full barn reflected God's blessing on a person's labor and obedience. synonyms: "["storehouse", "granary", "storage building", "harvest shelter"],
                    NIV: "Structures used for storing grain, food, or agricultural produce, especially during harvest. context: In biblical times, barns symbolized provision and abundance. A full barn reflected God's blessing on a person's labor and obedience. synonyms: "["storehouse", "granary", "storage building", "harvest shelter"],
                    ESV: "Structures used for storing grain, food, or agricultural produce, especially during harvest. context: In biblical times, barns symbolized provision and abundance. A full barn reflected God's blessing on a person's labor and obedience. synonyms: "["storehouse", "granary", "storage building", "harvest shelter"],
                    AMP: "Structures used for storing grain, food, or agricultural produce, especially during harvest. context: In biblical times, barns symbolized provision and abundance. A full barn reflected God's blessing on a person's labor and obedience. synonyms: "["storehouse", "granary", "storage building", "harvest shelter"],
                    NLT: "Structures used for storing grain, food, or agricultural produce, especially during harvest. context: In biblical times, barns symbolized provision and abundance. A full barn reflected God's blessing on a person's labor and obedience. synonyms: "["storehouse", "granary", "storage building", "harvest shelter"],
                },

                "Honour": {
                    KJV: "To show great respect, value, and reverence toward someone or something, especially through actions, words, or offerings. In the Bible, to honour God means to acknowledge His authority, holiness, and provision‚Äîoften by obedience, worship, giving, and right living. It is both an attitude and an act. synonyms: "["respect", "revere", "esteem", "value", "glorify"],
                    NKJV: "To show great respect, value, and reverence toward someone or something, especially through actions, words, or offerings. In the Bible, to honour God means to acknowledge His authority, holiness, and provision‚Äîoften by obedience, worship, giving, and right living. It is both an attitude and an act. synonyms: "["respect", "revere", "esteem", "value", "glorify"],
                    NIV: "To show great respect, value, and reverence toward someone or something, especially through actions, words, or offerings. In the Bible, to honour God means to acknowledge His authority, holiness, and provision‚Äîoften by obedience, worship, giving, and right living. It is both an attitude and an act. synonyms: "["respect", "revere", "esteem", "value", "glorify"],
                    ESV: "To show great respect, value, and reverence toward someone or something, especially through actions, words, or offerings. In the Bible, to honour God means to acknowledge His authority, holiness, and provision‚Äîoften by obedience, worship, giving, and right living. It is both an attitude and an act. synonyms: "["respect", "revere", "esteem", "value", "glorify"],
                    AMP: "To show great respect, value, and reverence toward someone or something, especially through actions, words, or offerings. In the Bible, to honour God means to acknowledge His authority, holiness, and provision‚Äîoften by obedience, worship, giving, and right living. It is both an attitude and an act. synonyms: "["respect", "revere", "esteem", "value", "glorify"],
                    NLT: "To show great respect, value, and reverence toward someone or something, especially through actions, words, or offerings. In the Bible, to honour God means to acknowledge His authority, holiness, and provision‚Äîoften by obedience, worship, giving, and right living. It is both an attitude and an act. synonyms: "["respect", "revere", "esteem", "value", "glorify"],
                },

            };

            // Replace the existing showVersion function

            function showVersion(version) {
                const reference =
                    document.getElementById("verse-reference").textContent;
                const verseText = document.getElementById("verse-text");

                // Show loader
                verseText.innerHTML =
                    '<div class="verse-loader"><i class="fas fa-spinner fa-2x"></i></div>';

                // Simulate loading time and show verse
                setTimeout(() => {
                    if (bibleVerses[reference]) {
                        verseText.innerHTML = `<p class="verse-text">${bibleVerses[reference][version]}</p>`;
                        // Add show class after a brief delay to trigger fade-in
                        setTimeout(() => {
                            document
                                .querySelector(".verse-text")
                                .classList.add("show");
                        }, 50);
                    } else {
                        verseText.innerHTML =
                            "<p>Verse not found in database.</p>";
                    }

                    // Update active button
                    document.querySelectorAll(".version-btn").forEach((btn) => {
                        btn.classList.remove("active");
                        if (btn.textContent === version)
                            btn.classList.add("active");
                    });
                }, 500); // Half second loading time
            }

            // Close modal when clicking the X or outside
            document.querySelector(".close").onclick = function () {
                document.getElementById("verse-modal").style.display = "none";
                document.body.classList.remove("modal-open");
            };

            window.onclick = function (event) {
                const modal = document.getElementById("verse-modal");
                if (event.target == modal) {
                    modal.style.display = "none";
                    document.body.classList.remove("modal-open");
                }
            };

            // function checkQuiz() {
            //     const answers = {
            //         q1: "b",
            //         q2: "b",
            //         q3: "c",
            //     };

            //     let score = 0;
            //     let total = Object.keys(answers).length;

            //     for (let question in answers) {
            //         const selected = document.querySelector(
            //             `input[name="${question}"]:checked`
            //         );
            //         if (selected && selected.value === answers[question])
            //             score++;
            //     }

            //     const results = document.getElementById("quiz-results");
            //     results.innerHTML = `
            //                                         <h3>Quiz Results</h3>
            //                                         <p>You scored ${score} out of ${total}</p>
            //                                         ${
            //                                             score === total
            //                                                 ? "<p>Excellent! Perfect score!</p>"
            //                                                 : "<p>Keep studying and try again!</p>"
            //                                         }
            //                                     `;
            // }

            // Add to your existing <script> section
            // Track progress

            // function checkQuiz() {
            //     const answers = {
            //         q1: "a", //
            //         q2: "b", // It should be one-tenth and complete
            //         q3: "b", // A place for God's tithe, not for personal or random use
            //         q4: "c", // His servants may abandon the work
            //         q5: "a", // God will open the windows of heaven and pour blessings
            //         q6: "a", // It helps sustain the instruments God uses for His work
            //     };

            //     let score = 0;
            //     let total = Object.keys(answers).length;
            //     let resultsHTML = "<h3>Results:</h3><ul>";

            //     for (let key in answers) {
            //         const selected = document.querySelector(
            //             `input[name="${key}"]:checked`
            //         );
            //         if (selected) {
            //             if (selected.value === answers[key]) {
            //                 score++;
            //                 resultsHTML += `<li>Question ${key.slice(
            //                     1
            //                 )}: Correct ‚úÖ</li>`;
            //             } else {
            //                 resultsHTML += `<li>Question ${key.slice(
            //                     1
            //                 )}: Incorrect ‚ùå</li>`;
            //             }
            //         } else {
            //             resultsHTML += `<li>Question ${key.slice(
            //                 1
            //             )}: Not answered ‚ö†Ô∏è</li>`;
            //         }
            //     }

            //     resultsHTML += `</ul><p>You scored <strong>${score} out of ${total}</strong>.</p>`;

            //     const resultsDiv = document.getElementById("quiz-results");
            //     resultsDiv.innerHTML = resultsHTML;
            //     resultsDiv.scrollIntoView({ behavior: "smooth" });
            // }

            function checkQuiz() {
                const answers = {
                    q1: "a", // Malachi 3:10
                    q2: "b", // Time of Melchizedek and Abraham
                    q3: "c", // No, it predates the Law of Moses
                    q4: "c", // Christ
                    q5: "a", // Hebrews 7:6-8
                    q6: "a", // To support Melchizedek's priesthood
                };

                let score = 0;
                let total = Object.keys(answers).length;
                let resultsHTML = "<h3>üìä Quiz Results</h3><ul>";

                for (let key in answers) {
                    const selected = document.querySelector(
                        `input[name="${key}"]:checked`
                    );
                    if (selected) {
                        if (selected.value === answers[key]) {
                            score++;
                            resultsHTML += `<li>Question ${key.slice(
                                1
                            )}: ‚úÖ Correct</li>`;
                        } else {
                            resultsHTML += `<li>Question ${key.slice(
                                1
                            )}: ‚ùå Incorrect</li>`;
                        }
                    } else {
                        resultsHTML += `<li>Question ${key.slice(
                            1
                        )}: ‚ö†Ô∏è Not answered</li>`;
                    }
                }

                resultsHTML += `</ul>`;

                // Calculate percentage and add appropriate styling
                const percentage = Math.round((score / total) * 100);
                let scoreClass = "";
                let message = "";

                if (percentage >= 80) {
                    scoreClass = "score-excellent";
                    message =
                        "üéâ Excellent work! You have a strong understanding of biblical tithing.";
                } else if (percentage >= 60) {
                    scoreClass = "score-good";
                    message =
                        "üëç Good job! You have a solid foundation, but consider reviewing some concepts.";
                } else {
                    scoreClass = "score-needs-improvement";
                    message =
                        "üìö Keep studying! Review the lesson materials to strengthen your understanding.";
                }

                resultsHTML += `<div class="score-summary ${scoreClass}">
                <strong>Your Score: ${score} out of ${total} (${percentage}%)</strong>
                <br><br>${message}
            </div>`;

                const resultsDiv = document.getElementById("quiz-results");
                resultsDiv.innerHTML = resultsHTML;
                resultsDiv.classList.add("show");
                resultsDiv.scrollIntoView({ behavior: "smooth" });
            }

            let progress = 0;
            const totalSections = 5; // Number of tabs

            function updateProgress(increment = true) {
                if (increment) {
                    progress = Math.min(100, progress + 100 / totalSections);
                }
                const progressBar = document.querySelector(".progress");
                const progressText = document.querySelector(".progress-text");
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${Math.round(progress)}% Complete`;

                if (progress >= 100) {
                    showToast(
                        "Congratulations! You've completed the lesson! üéâ"
                    );
                }
            }

            function showToast(message) {
                const toast = document.createElement("div");
                toast.className = "toast";
                toast.textContent = message;
                document.body.appendChild(toast);

                // Trigger reflow
                toast.offsetHeight;

                // Show toast
                toast.style.opacity = "1";

                // Hide after 3 seconds
                setTimeout(() => {
                    toast.style.opacity = "0";
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }

            // Add interaction tracking to tab switching
            const originalOpenTab = openTab;
            openTab = function (tabName) {
                originalOpenTab(tabName);
                updateProgress();

                // Add animation to questions
                if (tabName === "quiz") {
                    document.querySelectorAll(".question").forEach((q, i) => {
                        setTimeout(() => q.classList.add("show"), i * 200);
                    });
                }
            };

            // Save progress to localStorage
            function saveProgress() {
                localStorage.setItem("lessonProgress", progress);
                showToast("Progress saved! üíæ");
            }

            // Load saved progress
            window.addEventListener("load", () => {
                const savedProgress = localStorage.getItem("lessonProgress");
                if (savedProgress) {
                    progress = parseFloat(savedProgress);
                    updateProgress(false);
                }
            });

            // Share functionality
            function shareLesson() {
                if (navigator.share) {
                    navigator
                        .share({
                            title: "Sunday School Lesson",
                            text: "Check out this lesson on Real Christian Clothing!",
                            url: window.location.href,
                        })
                        .then(() => showToast("Shared successfully! üôå"))
                        .catch(() => showToast("Sharing failed"));
                } else {
                    showToast("Sharing not supported on this device");
                }
            }

            // Scroll to top
            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: "smooth",
                });
            }

            // Add to your existing JavaScript

            let preferredVersion =
                localStorage.getItem("preferredVersion") || "KJV";

            function changeDefaultVersion(version) {
                preferredVersion = version;
                localStorage.setItem("preferredVersion", version);
                showVersion(version);
                showToast(`Default Bible version changed to ${version}`);
            }

            // Update the showBibleVersions function

            // Load preferred version on startup
            window.addEventListener("load", () => {
                const savedVersion = localStorage.getItem("preferredVersion");
                if (savedVersion) {
                    preferredVersion = savedVersion;
                    document.querySelectorAll(".version-btn").forEach((btn) => {
                        btn.classList.remove("active");
                        if (btn.textContent === preferredVersion)
                            btn.classList.add("active");
                    });
                }
            });

            // Add this to your existing <script> section
            let currentFontSize =
                parseInt(localStorage.getItem("preferredFontSize")) || 16;

            function adjustFontSize(delta) {
                // Adjust font size with limits
                currentFontSize = Math.min(
                    Math.max(currentFontSize + delta, 12),
                    24
                );

                // Update CSS variable
                document.documentElement.style.setProperty(
                    "--font-size",
                    `${currentFontSize}px`
                );

                // Update display
                document.querySelector(
                    ".font-size"
                ).textContent = `${currentFontSize}px`;

                // Save to localStorage
                localStorage.setItem("preferredFontSize", currentFontSize);
            }

            // Initialize font size on page load
            window.addEventListener("load", () => {
                // Set initial font size
                document.documentElement.style.setProperty(
                    "--font-size",
                    `${currentFontSize}px`
                );
                document.querySelector(
                    ".font-size"
                ).textContent = `${currentFontSize}px`;

                // Add scalable-text class to all text elements
                document
                    .querySelectorAll(
                        "p, h1, h2, h3, h4, h5, h6, li, blockquote, label, button, input, textarea, .tab-btn, .verse-text, .options label"
                    )
                    .forEach((el) => el.classList.add("scalable-text"));
            });

            function changeFont(fontFamily) {
                document.body.style.fontFamily = fontFamily;
                // Save preference
                localStorage.setItem("preferredFont", fontFamily);
            }

            // Load saved preferences
            window.addEventListener("load", () => {
                const savedFontSize = localStorage.getItem("preferredFontSize");
                if (savedFontSize) {
                    currentFontSize = parseInt(savedFontSize);
                    adjustFontSize(0);
                }

                const savedFont = localStorage.getItem("preferredFont");
                if (savedFont) {
                    document.body.style.fontFamily = savedFont;
                    document.querySelector(".font-family-select").value =
                        savedFont;
                }
            });

            // Add CSS Variable for scaling
            document.documentElement.style.setProperty(
                "--content-scale",
                "100%"
            );

            // Update content elements to use the scale
            document
                .querySelectorAll(
                    ".tab-content, .memory-verse, .reflection-notes"
                )
                .forEach((el) => {
                    el.classList.add("adjustable-content");
                    el.style.fontSize =
                        "calc(1rem * var(--content-scale) / 100)";
                });

            // Add to your existing <script> section
            document.addEventListener("DOMContentLoaded", () => {
                // Love Meter functionality
                const loveSlider = document.querySelector(".love-slider");
                const ratingValue = document.querySelector(".rating-value");
                const ratingFeedback =
                    document.querySelector(".rating-feedback");

                if (loveSlider) {
                    loveSlider.addEventListener("input", () => {
                        const value = loveSlider.value;
                        ratingValue.textContent = `${value}/10`;

                        // Update feedback based on rating
                        const feedback =
                            value >= 8
                                ? "Excellent! Keep showing God's love!"
                                : value >= 6
                                ? "Good effort! There's room to grow."
                                : "Consider ways to show more love tomorrow.";
                        ratingFeedback.textContent = feedback;
                    });
                }

                // Action Items functionality
                const addActionBtn = document.querySelector(".add-action-btn");
                if (addActionBtn) {
                    addActionBtn.addEventListener("click", () => {
                        const action = prompt("Enter your custom love action:");
                        if (action) {
                            const actionItems =
                                document.querySelector(".action-items");
                            const newAction = document.createElement("div");
                            newAction.className = "action-item";
                            newAction.innerHTML = `
                                                                    <input type="checkbox" id="action${Date.now()}">
                                                                    <label for="action${Date.now()}">${action}</label>
                                                                `;
                            actionItems.insertBefore(newAction, addActionBtn);
                        }
                    });
                }

                // Journal Prompts functionality
                const prompts = [
                    "How did you demonstrate God's love today?",
                    "What challenges did you face in showing love?",
                    "How can you better express God's love tomorrow?",
                ];
                let currentPrompt = 0;

                const updatePrompt = () => {
                    const promptElement = document.querySelector(".prompt p");
                    const promptCounter =
                        document.querySelector(".prompt-counter");
                    if (promptElement) {
                        promptElement.textContent = prompts[currentPrompt];
                        promptCounter.textContent = `${currentPrompt + 1}/${
                            prompts.length
                        }`;
                    }
                };

                const nextPromptBtn = document.querySelector(".next-prompt");
                const prevPromptBtn = document.querySelector(".prev-prompt");

                if (nextPromptBtn && prevPromptBtn) {
                    nextPromptBtn.addEventListener("click", () => {
                        if (currentPrompt < prompts.length - 1) {
                            currentPrompt++;
                            updatePrompt();
                            prevPromptBtn.disabled = false;
                            if (currentPrompt === prompts.length - 1) {
                                nextPromptBtn.disabled = true;
                            }
                        }
                    });

                    prevPromptBtn.addEventListener("click", () => {
                        if (currentPrompt > 0) {
                            currentPrompt--;
                            updatePrompt();
                            nextPromptBtn.disabled = false;
                            if (currentPrompt === 0) {
                                prevPromptBtn.disabled = true;
                            }
                        }
                    });
                }

                // Commitment functionality
                const saveCommitmentBtn =
                    document.querySelector(".save-commitment");
                const commitmentInput =
                    document.querySelector(".commitment-input");
                const commitmentList =
                    document.querySelector(".commitment-list");

                if (saveCommitmentBtn && commitmentInput && commitmentList) {
                    // Load saved commitments
                    const savedCommitments = JSON.parse(
                        localStorage.getItem("commitments") || "[]"
                    );
                    savedCommitments.forEach((commitment) => {
                        const li = document.createElement("li");
                        li.textContent = commitment;
                        commitmentList.appendChild(li);
                    });

                    saveCommitmentBtn.addEventListener("click", () => {
                        const commitment = commitmentInput.value.trim();
                        if (commitment) {
                            const li = document.createElement("li");
                            li.textContent = commitment;
                            commitmentList.appendChild(li);

                            // Save to localStorage
                            const commitments = JSON.parse(
                                localStorage.getItem("commitments") || "[]"
                            );
                            commitments.push(commitment);
                            localStorage.setItem(
                                "commitments",
                                JSON.stringify(commitments)
                            );

                            commitmentInput.value = "";
                            showToast("Commitment saved! üôè");
                        }
                    });
                }
            });
        </script>
    </body>
</html>
